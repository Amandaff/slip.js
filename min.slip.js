(function(t,e){var i,n,o,r,s,h,u,a,f,c,p,l,d,y,v,g,x,m,T,E,b,C,w,S,W;y=void 0;f=null;u=10;h=40;i=["webkit","moz","ms","o",""];c=/\-?[0-9]+\.?[0-9]*/g;m="x";E="y";T="xy";s="left";p="right";v="up";n="down";r="ontouchend"in t;l=r?"touchstart":"mousedown";a=r?"touchmove":"mousemove";o=r?"touchend":"mouseup";g=t["innerHeight"];x=t["innerWidth"];C=function(){};w=function(t,e){var n,o,r,s,h;h=[];for(r=0,s=i.length;r<s;r++){o=i[r];n=o?""+o+"Transition":"transition";h.push(t.style[n]=e)}return h};S=function(t,e,n,o){var r,s,h,u,a;a=[];for(h=0,u=i.length;h<u;h++){s=i[h];r=s?""+s+"Transform":"transform";a.push(t.style[r]="translate3d("+(e||0)+"px, "+(n||0)+"px, "+(o||0)+"px)")}return a};b=function(t){var e,n,o,r,s,h,u;s=[];n="";e="";for(h=0,u=i.length;h<u;h++){r=i[h];o=r?""+r+"Transform":"transform";n=t.style[o];if(n&&typeof n==="string"){e=n.match(/\((.*)\)/g)[0];s=e&&e.match(c);break}}if(s.length){return{x:s[0]||0,y:s[1]||0,z:s[2]||0}}};d=function(){var t;t=function(t){var e,i;i=t.touches&&(t.touches.length?t.touches:[t]);e=t.changedTouches&&t.changedTouches[0]||t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]||i[0].originalEvent||i[0];return{x:e.clientX,y:e.clientY}};function e(t,e){this.ele=t;this.direction=e;this.onStart=this.onMove=this.onEnd=C;this.coord=this.eventCoords=this.cacheCoords=this.finger=this.absFinger=f;this.orient=[];this.isWebapp=false}e.prototype.start=function(t){return(this.onStart=t)&&this};e.prototype.move=function(t){return(this.onMove=t)&&this};e.prototype.end=function(t){return(this.onEnd=t)&&this};e.prototype.setCoord=function(t){var e,i,n;i=this.coord={x:t[m]||0,y:t[E]||0};n=this.ele;S(n,i[m],i[E]);for(e in i){n.setAttribute(e,i[e])}return this};e.prototype.onTouchStart=function(e){var i;this.eventCoords=t(e);this.cacheCoords=this.coord;this.finger=this.absFinger=f;if(this.isWebapp){this.onWepappStart(e)}return i=this.onStart.apply(this,[e])};e.prototype.onTouchMove=function(e){var i,o,r,a,f,c,l,d,y,g,x;e.preventDefault();l=t(e);r=this.direction;c=this.finger={x:l.x-this.eventCoords.x,y:l.y-this.eventCoords.y};i=this.absFinger={x:Math.abs(c.x),y:Math.abs(c.y)};if(r!==T){d=r===m?E:m;if(i[r]<u||i[d]>h){return false}}y=[];if(i.x>u){y.push(c.x<0?s:p)}if(i.y>u){y.push(c.y<0?v:n)}this.orient=y;g=this.onMove.apply(this,[e]);if(g===false){return false}a=this.ele;f=this.coord={x:r.indexOf(m)<0?this.cacheCoords[m]:this.cacheCoords[m]-0+c.x,y:r.indexOf(E)<0?this.cacheCoords[E]:this.cacheCoords[E]-0+c.y};S(a,f[m],f[E]);x=[];for(o in f){x.push(a.setAttribute(o,f[o]))}return x};e.prototype.onTouchEnd=function(t){var e,i,n;e=this.ele;if(this.isWebapp){this.onWepappEnd(t)}i=this.onEnd.apply(this,[t]);n=b(this.ele);if(n){return this.setCoord(n)}};e.prototype.onWepappStart=function(t){return w(this.ele,f)};e.prototype.onWepappEnd=function(t){var e,i,o,r,h,u,a,f,c,l,d;f=this.orient.join("");e="";d=0;c=this.page;l=this.pageNum;i=this.ele;u=f.indexOf(v)>-1;o=f.indexOf(n)>-1;r=f.indexOf(s)>-1;h=f.indexOf(p)>-1;a=this.direction===E;if(a){if(u){c++}if(o){c--}}else{if(r){c++}if(h){c--}}if(c===l){c=l-1}if(c===-1){c=0}w(i,"all .4s ease-in");if(a){d="-"+c*g;S(i,0,d,0)}else{d="-"+c*x;S(i,d,0,0)}return this.page=c};e.prototype.init=function(){var t,e,i,n,r,s,h;this.coord={x:0,y:0};h=this._onTouchStart=function(t){return function(e){return t.onTouchStart(e)}}(this);s=this._onTouchMove=function(t){return function(e){return t.onTouchMove(e)}}(this);r=this._onTouchEnd=function(t){return function(e){return t.onTouchEnd(e)}}(this);i=this.ele;i.addEventListener(l,h,false);i.addEventListener(a,s,false);i.addEventListener(o,r,false);n=this.coord={x:0,y:0};e=this.direction;S(i,n[m],n[E]);for(t in n){i.setAttribute(t,n[t])}return this};e.prototype.destroy=function(){var t;t=this.ele;t.removeEventListener(l,this._onTouchStart,false);t.removeEventListener(a,this._onTouchMove,false);t.removeEventListener(o,this._onTouchEnd,false);return this};e.prototype.webapp=function(t){var e,i,n,o,r,h,u,a;n=this.ele;if(typeof t==="string"){t=n.querySelectorAll(t)}else{t=t||n.childNodes}this.isWebapp=true;this.page=0;this.elPages=t;i=t.length;o=this.pageNum=i?i:0;if(o>0){n.style.height=""+g*o+"px";for(r=0,u=t.length;r<u;r++){e=t[r];e.style.height=""+g+"px"}if(this.direction===m){n.style.width=""+x*o+"px";for(h=0,a=t.length;h<a;h++){e=t[h];e.style.width=""+x+"px";e.style.cssFloat=s}}}this.fullscreen();return this};e.prototype.fullscreen=function(){var t,e,i;if(this.isWebapp){e=this.ele;t=e;while(i=t.parentNode){if(i.nodeType===1){i.style.height="100%";i.style.overflow="hidden"}t=i}}return this};return e}();W=function(t,e){var i;i=new d(t,e||m);return i.init()};return t.Slip=W})(window,document);