
<!DOCTYPE html>
<html>
    <head>
		<meta charset="UTF-8">
		<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<title>搜狐视频客户端完美适配iOS8</title>
		<meta  name="viewport" content="initial-scale=1, width=device-width, maximum-scale=1, user-scalable=no">
		<script type="text/javascript" src="../min.slip.js"></script>
		<style type="text/css">
			body{
				background-color: #f2f4f5;
				margin: 0;
				padding: 0;
			}
			#container{
				overflow: hidden;
			}
			#wrap{
			}
			#wrap.anim{
				-webkit-transition: all .4s ease-in;
				transition: all .4s ease-in;
			}
			.page{
				background-size: 100%;
				background-repeat: no-repeat;
				background-position: center center;
			}
			.page-1{
				background-size: 50%;
				background-position: center 30%;
			}
		</style>
	</head>
	<body>
		<div id="container">
			<div id="wrap"></div>
		</div>
	</body>
	<script type="text/javascript">
		var wrap = document.getElementById('wrap');
		var container = document.getElementById('container');

		var total = 5;
		var page = 0;

		var h = window.innerHeight;

		wrap.style.height = h * total + "px";
		container.style.height = h + "px";

		var slip = Slip(wrap, 'y')
			.setCoord({x: 0, y: 0})
			.start(function() {
				wrap.className = '';
			})
			.end(function(event) {
				var orient = this.orient.join('');
				var css = '';

				var trans = 0;

				if (orient.indexOf('up') > -1) {
					page++;

					if (page == total) page = total - 1;

					trans = - page * h;

				}
				if (orient.indexOf('down') > -1) {
					page--;

					if (page == -1) page = 0;

					trans = - page * h;
				}

				if (orient.indexOf('up') > -1 || orient.indexOf('down') > -1) {
					wrap.className = 'anim';

					css = 'translate3d(0, ' + trans + 'px, 0)';
					wrap.style.webkitTransform = wrap.style.transform = css;

					this.setCoord({x: 0, y: trans});

				}
			});
		var html = [];

		for (var i = 1; i < total + 1; i++) {
			var _i = i === 5 ? 1 : i;

			html.push('<div class="page page-' + _i + '" style="height:' + h + 'px;background-image:url(../images/sohutv-ios8/' + _i + '.jpg)"></div>');
		}

		wrap.innerHTML = html.join('');
	</script>
</html>